'use strict';const express=require("express"),app=express(),router=express.Router(),Post=require("../../../models/Post"),User=require("../../../models/User"),Testimony=require("../../../models/Testimony"),Destination=require("../../../models/Destination"),Booking=require("../../../models/Booking"),Contact=require("../../../models/Contact"),Media=require("../../../models/Media"),Category=require("../../../models/Category");router.all("/*",(b,c,a)=>{b.app.locals.layout="admin";a()});
router.get("/",(b,c)=>{b=[User.countDocuments(),Testimony.countDocuments(),Post.countDocuments(),Destination.countDocuments(),Booking.countDocuments(),Contact.countDocuments(),Media.countDocuments(),Category.countDocuments()];Promise.all(b).then(([a,d,e,f,g,h,k,l])=>{c.render("accounts/admin/index",{userCount:a,testimonyCount:d,postCount:e,destinationCount:f,bookingCount:g,contactCount:h,mediaCount:k,categoryCount:l})}).catch(a=>console.log(a))});module.exports=router;