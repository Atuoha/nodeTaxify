'use strict';$(document).ready(function(){const a=document.querySelector(".basic"),b=document.querySelector(".deluxe"),c=document.querySelector(".classic");a.addEventListener("click",function(d){console.log("basic is clicked");c.style.display="none";a.style.display="none";b.style.display="none";document.querySelector(".accSentence").innerHTML='<i class="fa fa-check-circle-o"></i> Basic Plan Selected';document.getElementById("plan").value="Basic Plan"});b.addEventListener("click",function(d){console.log("Deluxe is clicked");
a.style.display="none";c.style.display="none";b.style.display="none";document.querySelector(".accSentence").innerHTML='<i class="fa fa-check-circle-o"></i> Deluxe Plan Selected';document.getElementById("plan").value="Deluxe Plan"});c.addEventListener("click",function(d){console.log("classic is clicked");a.style.display="none";b.style.display="none";c.style.display="none";document.querySelector(".accSentence").innerHTML='<i class="fa fa-check-circle-o"></i> Classic Plan Selected';document.getElementById("plan").value=
"Classic Plan"})});
$("#process_btn").click(function(a){a.preventDefault();a=$("#to_place").val();let b=$("#from_place").val(),c=$("#plan").val(),d=$("#datepicker2").val(),e=$("#timepicker1").val(),f=$("#price").attr("value");""==c?swal({title:"No Plan Selected",text:"Error! You can't proceed without choosing a booking plan. Select one! ",icon:"error",timer:5500,closeOnClickOutside:!1}):($("#booking_to").html(a),$("#booking_from").html(b),$("#booking_plan").html(c),$("#booking_price").html(f),$("#booking_time").html(`${d} | ${e}`),$(".form-section").fadeOut("fast"),
$(".header-right").css("background-color","white"),$(".loading").fadeIn("fast"),setInterval(()=>{$(".loading").fadeOut("fast");$("#booking_details").fadeIn("slow");$(".booking_summary").css("display","none")},3E3))});$(".custom-control-input").click(function(a){a=$(this).attr("value");$("#to_place").val();$("#from_place").val();a="deluxe"==a?200:"classic"==a?150:100;$("#price").attr("value","$"+a);$("#price").fadeIn("slow")});
$("#booking_form").submit(function(a){a.preventDefault();a=$(this).serialize();var b=$("#price").attr("value");b=100*parseFloat(b.replace("$",""));Stripe(stripePublicKey).redirectToCheckout({lineItems:[{price:b}],mode:"payment",successUrl:"https://www.example.com/success",cancelUrl:"https://www.example.com/cancel"});$.ajax({url:"/admin/booking/create",type:"post",data:a,cache:!1,success:c=>{c.error?swal({title:"Booking Error",text:"Opps! Due to reasons you were unable to complete your booking process. Try again!. ",
icon:"error",timer:5500,closeOnClickOutside:!1}):swal({title:"Booking Success",text:"Kudos! You've successfully booked a taxi with nodeTaxify. Enjoy the ride! ",icon:"success",timer:5500,closeOnClickOutside:!1})}})});$("#timepicker1").timepicker();$("#datepicker2").datepicker();